{"remainingRequest":"/Users/denya/Desktop/workspace/vue-cli/hello-world/node_modules/babel-loader/lib/index.js!/Users/denya/Desktop/workspace/vue-cli/hello-world/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/denya/Desktop/workspace/vue-cli/hello-world/src/views/questionnaire.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/denya/Desktop/workspace/vue-cli/hello-world/src/views/questionnaire.vue","mtime":1542332562752},{"path":"/Users/denya/Desktop/workspace/vue-cli/hello-world/node_modules/cache-loader/dist/cjs.js","mtime":1533548609359},{"path":"/Users/denya/Desktop/workspace/vue-cli/hello-world/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/Users/denya/Desktop/workspace/vue-cli/hello-world/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getNaireDetail as _getNaireDetail, addQtAnswer as _addQtAnswer } from \"../service/getData\";\nexport default {\n  name: 'detail',\n  data: function data() {\n    return {\n      questions: [],\n      flag: false\n    };\n  },\n  created: function created() {\n    this.getNaireDetail();\n  },\n  methods: {\n    getNaireDetail: function getNaireDetail() {\n      var _this = this;\n\n      _getNaireDetail(this.$route.params.id, this.$route.params.userId).then(function (res) {\n        if (res.res.code === 10000) {\n          if (res.body.qtQuestionnaire) {\n            var questions = res.body.qtQuestionnaire.questions;\n\n            for (var index in questions) {\n              if (questions[index].type === '4') {\n                questions[index].isDrop = '';\n              }\n            }\n\n            _this.questions = questions;\n            console.log(questions);\n          } else {\n            _this.$router.push({\n              path: '/evaluateSuccess/2'\n            });\n          }\n        }\n      });\n    },\n    addQtAnswer: function addQtAnswer() {\n      var _this2 = this;\n\n      var params = [],\n          questions = this.questions;\n\n      for (var i = 0; i < questions.length; i++) {\n        params[i] = {};\n\n        if (questions[i].type === '1') {\n          params[i].userId = this.$route.params.userId;\n          params[i].naireId = this.$route.params.id;\n          params[i].questionId = questions[i].id;\n          params[i].optionId = questions[i].isDrop;\n        } else {\n          params[i].userId = this.$route.params.userId;\n          params[i].naireId = this.$route.params.id;\n          params[i].questionId = questions[i].id;\n          params[i].content = questions[i].isDrop;\n        }\n      }\n\n      _addQtAnswer(params, this.$route.params.id, this.$route.params.userId).then(function (res) {\n        if (res.res.code === 10000) {\n          _this2.$router.push({\n            path: '/evaluateSuccess/2'\n          });\n        }\n      });\n    },\n    changeFlag: function changeFlag() {\n      var flag = true;\n\n      for (var index in this.questions) {\n        if (this.questions[index].isDrop === 0 && this.questions[index].type === '1' || this.questions[index].isDrop === '' && this.questions[index].type === '1') {\n          flag = false;\n        }\n      }\n\n      this.flag = flag;\n    },\n    activeOptions: function activeOptions(ind, index) {\n      this.questions[ind].isDrop = this.questions[ind].options[index].id;\n      this.changeFlag();\n    }\n  }\n};",{"version":3,"sources":["questionnaire.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"questionnaire\">\n    <header>\n      <img src=\"@/assets/images/vlogo.png\" alt=\"\">\n      <h2>万科产办2018客户满意度调研</h2>\n    </header>\n    <section v-for=\"(question,ind) in questions\">\n      <div class=\"title\">{{question.caption}}</div>\n      <div class=\"optionBox\" v-for=\"(item,index) in question.options\" @click=\"activeOptions(ind,index)\" v-if=\"question.type === '1'\">\n        <div class=\"itemActiveButtom\" v-if=\"question.isDrop === item.id\">\n          <i></i>\n        </div>\n        <div v-else class=\"itemButtom\"></div>\n        <p :style=\"{color: question.isDrop === item.id ? 'rgba(51,51,51,1)' : 'rgba(153, 153, 153, 1)'}\">{{item.descr}}</p>\n      </div>\n      <textarea v-if=\"question.type === '4'\" name=\"name\" v-model=\"question.isDrop\" placeholder=\"文字简要描述\" @change=\"changeFlag\" maxlength=\"200\"></textarea>\n    </section>\n    <div class=\"buttonBox\">\n      <p v-if=\"flag\" @click=\"addQtAnswer\" class=\"submit\">提交问卷</p>\n      <p v-else>提交问卷</p>\n    </div>\n  </div>\n</template>\n\n<script>\n  import {\n    getNaireDetail,\n    addQtAnswer\n  } from \"../service/getData\";\n\n  export default {\n    name: 'detail',\n    data() {\n      return {\n        questions: [],\n        flag: false\n      }\n    },\n    created() {\n      this.getNaireDetail()\n    },\n    methods: {\n      getNaireDetail: function() {\n        getNaireDetail(this.$route.params.id, this.$route.params.userId).then(res => {\n          if (res.res.code === 10000) {\n            if (res.body.qtQuestionnaire) {\n              let questions = res.body.qtQuestionnaire.questions\n              for (var index in questions) {\n                if (questions[index].type === '4') {\n                  questions[index].isDrop = ''\n                }\n              }\n              this.questions = questions;\n              console.log(questions);\n            } else {\n              this.$router.push({\n                path: '/evaluateSuccess/2'\n              })\n            }\n          }\n        })\n      },\n      addQtAnswer: function() {\n        let params = [],\n          questions = this.questions;\n        for (var i = 0; i < questions.length; i++) {\n          params[i] = {}\n          if (questions[i].type === '1') {\n            params[i].userId = this.$route.params.userId\n            params[i].naireId = this.$route.params.id\n            params[i].questionId = questions[i].id\n            params[i].optionId = questions[i].isDrop\n          } else {\n            params[i].userId = this.$route.params.userId\n            params[i].naireId = this.$route.params.id\n            params[i].questionId = questions[i].id\n            params[i].content = questions[i].isDrop\n          }\n        }\n        addQtAnswer(params, this.$route.params.id, this.$route.params.userId).then(res => {\n          if (res.res.code === 10000) {\n            this.$router.push({\n              path: '/evaluateSuccess/2'\n            })\n          }\n        })\n      },\n      changeFlag: function() {\n        let flag = true\n        for (var index in this.questions) {\n          if (this.questions[index].isDrop === 0 && this.questions[index].type === '1' || this.questions[index].isDrop === '' && this.questions[index].type === '1') {\n            flag = false\n          }\n        }\n        this.flag = flag\n      },\n      activeOptions: function(ind, index) {\n        this.questions[ind].isDrop = this.questions[ind].options[index].id\n        this.changeFlag()\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  .questionnaire {\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background: rgba(243, 245, 249, 1);\n\n    header {\n      width: 10rem;\n      height: 3.73rem;\n      background: url('../assets/images/card_bg.png') no-repeat center center;\n      background-size: 100% 100%;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n\n      img {\n        width: 2.13rem;\n        height: .51rem;\n        margin-top: 1.09rem;\n      }\n\n      h2 {\n        font-size: .53rem;\n        font-family: PingFangSC-Regular;\n        font-weight: 400;\n        color: rgba(51, 51, 51, 1);\n        line-height: .75rem;\n        margin-top: .32rem;\n      }\n    }\n\n    section {\n      background: rgba(255, 255, 255, 1);\n      padding: 0 .4rem;\n      width: 10rem;\n      -webkit-box-sizing: border-box;\n      box-sizing: border-box;\n\n      .title {\n        min-height: 1.33rem;\n        background: rgba(255, 255, 255, 1);\n        font-size: .37rem;\n        box-shadow: 0px -1px 0px 0px rgba(232, 232, 232, 1);\n        font-family: PingFangSC-Medium;\n        font-weight: 500;\n        color: rgba(51, 51, 51, 1);\n        line-height: .53rem;\n        display: flex;\n        align-items: center;\n      }\n\n      .optionBox {\n        height: 1.33rem;\n        background: rgba(255, 255, 255, 1);\n        box-shadow: 0px -1px 0px 0px rgba(232, 232, 232, 1);\n        font-size: .37rem;\n        font-family: PingFangSC-Medium;\n        font-weight: 500;\n        color: rgba(51, 51, 51, 1);\n        line-height: 1.33rem;\n        display: flex;\n        -ms-align-items: center;\n        align-items: center;\n\n        .itemActiveButtom {\n          width: .48rem;\n          height: .48rem;\n          border: .03rem solid rgba(245, 70, 76, 1);\n          border-radius: 100%;\n          margin-right: .4rem;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n\n          i {\n            width: .27rem;\n            height: .27rem;\n            border-radius: 100%;\n            background: rgba(245, 70, 76, 1);\n          }\n        }\n\n        .itemButtom {\n          width: .48rem;\n          height: .48rem;\n          border: .03rem solid #CCCCCC;\n          border-radius: 100%;\n          margin-right: .4rem;\n        }\n\n        p {\n          font-size: .37rem;\n          font-family: PingFangSC-Regular;\n          font-weight: 400;\n        }\n      }\n\n      textarea {\n        width: 9.2rem;\n        height: 1.6rem;\n        font-size: .37rem;\n        font-family: PingFangSC-Regular;\n        font-weight: 400;\n        color: rgba(51, 51, 51, 1);\n        line-height: .53rem;\n        margin-bottom: .4rem;\n      }\n    }\n\n    .buttonBox {\n      width: 10rem;\n      height: 2.8rem;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n\n      p {\n        width: 8.93rem;\n        height: 1.2rem;\n        background: #ccc;\n        border-radius: .6rem;\n        font-size: .43rem;\n        font-family: PingFangSC-Regular;\n        font-weight: 400;\n        color: rgba(255, 255, 255, 1);\n        line-height: 1.2rem;\n        text-align: center;\n      }\n\n      .submit {\n        background: rgba(245, 70, 76, 1);\n      }\n    }\n  }\n</style>\n"],"sourceRoot":"src/views"}]}